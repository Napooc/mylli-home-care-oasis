/* Phase 4: Adaptive Animation System */

/* Base animation values (will be overridden by performance monitor) */
:root {
  --animation-duration: 0.3s;
  --transition-duration: 0.3s;
  --animation-easing: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Adaptive animation levels based on device capabilities */
[data-animation-level="reduced"] {
  --animation-duration: 0.15s;
  --transition-duration: 0.15s;
}

[data-animation-level="reduced"] * {
  animation-duration: var(--animation-duration) !important;
  transition-duration: var(--transition-duration) !important;
}

[data-animation-level="reduced"] .animate-pulse-soft {
  animation: none !important;
}

[data-animation-level="reduced"] .animate-bounce {
  animation: none !important;
}

/* Power saving mode optimizations */
.power-saving * {
  animation-duration: 0.1s !important;
  transition-duration: 0.1s !important;
  animation-play-state: paused !important;
}

.power-saving .blur-3xl,
.power-saving .blur-2xl {
  filter: none !important;
}

/* Performance-optimized animations */
.gpu-optimized {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
  will-change: transform;
}

/* Critical path animations only */
.critical-animation {
  animation-delay: 0s !important;
  animation-duration: var(--animation-duration);
  transition-duration: var(--transition-duration);
}

/* Deferred animations */
.deferred-animation {
  animation-delay: 0.5s;
  animation-duration: var(--animation-duration);
}

/* Adaptive image loading states */
.adaptive-image {
  background: linear-gradient(90deg, 
    hsl(var(--muted)) 25%, 
    hsl(var(--muted-foreground) / 0.1) 50%, 
    hsl(var(--muted)) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* High-performance pulse animation */
.pulse-optimized {
  animation: pulse-optimized 2s infinite;
}

@keyframes pulse-optimized {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.8; }
}

/* Media queries for device-specific optimizations */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Low-end device optimizations */
@media (max-width: 768px) and (max-height: 1024px) {
  :root {
    --animation-duration: 0.2s;
    --transition-duration: 0.2s;
  }
  
  .hero-section .blur-3xl {
    filter: blur(10px);
  }
  
  .hero-section .blur-2xl {
    filter: blur(5px);
  }
}

/* High-end device enhancements */
@media (min-width: 1440px) and (min-height: 900px) {
  :root {
    --animation-duration: 0.4s;
    --transition-duration: 0.4s;
  }
}